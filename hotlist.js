var json = {"code":"<!DOCTYPE html>\n<!--\n    TODO:\n        mark-down render(?)\n        encryption(?) [only if others find the project an' read the messages]\n        \n    STEPS:\n        1.) duke will replace the code on this program with what's here (NO PROGRAM COMMENTS): https://www.khanacademy.org/cs/-/4514358365437952\n        2.) no one comments on the program at all, we get the program id to him silently via base64 encodin' an' then delete the message.\n        3.) he sends a message by editin' the variable (message) below. it's a multi-line string, so he can add spaces or whatever else he wants. gas updates every five minutes so his message should be sent at most five minutes from when he saves.\n-->\n<html>\n    <script type=\"module\">\n        var message = `we're done! :)`\n    </script>\n    <head>\n        <meta charset=\"utf-8\">\n        <title>duke</title>\n        <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css2?family=Dongle&display=swap\">\n        <style type=\"text/css\">\n            body {\n                display: flex;\n                margin: 0;\n                overflow-x: hidden;\n                justify-content: center;\n                align-items: center;\n                font-family: \"Dongle\";\n                font-size: 2em;\n                color: #eee;\n            }\n            .chat {\n                z-index: 1;\n            }\n            .message-container {\n                display: flex;\n                justify-content: center;\n                align-items: start;\n                flex-direction: column;\n                width: 100vw;\n                border-bottom: 2px solid #aaaa;\n            }\n            .message-header {\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n                width: 100vw;\n            }\n            .message-body {\n                font-size: 0.875em;\n                padding-left: 2vw;\n            }\n            .user {\n                padding-left: 5vw;\n            }\n            .date {\n                padding-right: 5vw;\n            }\n            .loader-container {\n                position: fixed;\n                top: 0;\n                left: 0;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                min-height: 100vh;\n                width: 100vw;\n                background: #fff;\n                z-index: 2;\n                opacity: 1;\n            }\n            .loader {\n              width: 50px;\n              aspect-ratio: 1;\n              position: relative;\n              overflow: hidden;\n              border: 2px solid #555;\n            }\n            .loader::before {\n              content: \"\";\n              position: absolute;\n              inset: -48px;\n              --c:conic-gradient(from 180deg at 50% calc(100% - 2px),#555 90deg, #5550 0);\n              background: var(--c),var(--c);\n              background-position: 0 0,8px 0;\n              background-size: 16px 9.6px;\n              animation: l16 2s infinite;\n            }\n            @keyframes l16 {\n              50%  {background-position: 0 -9.6px ,8px 9.6px; transform:rotate(90deg)}\n              100% {background-position: 0 -19.2px,8px 19.2px;transform:rotate(180deg)}\n            }\n        </style>\n        \n    </head>\n    <body>\n        <div class=\"chat\">\n        </div>\n        <div class=\"loader-container\">\n            <div class=\"loader\"></div>\n        </div>\n        <script src=\"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js\"></script>\n        <script type=\"module\">\n            function md5(inputString) {\n                var hc=\"0123456789abcdef\";\n                function rh(n) {var j,s=\"\";for(j=0;j<=3;j++) s+=hc.charAt((n>>(j*8+4))&0x0F)+hc.charAt((n>>(j*8))&0x0F);return s;}\n                function ad(x,y) {var l=(x&0xFFFF)+(y&0xFFFF);var m=(x>>16)+(y>>16)+(l>>16);return (m<<16)|(l&0xFFFF);}\n                function rl(n,c)            {return (n<<c)|(n>>>(32-c));}\n                function cm(q,a,b,x,s,t)    {return ad(rl(ad(ad(a,q),ad(x,t)),s),b);}\n                function ff(a,b,c,d,x,s,t)  {return cm((b&c)|((~b)&d),a,b,x,s,t);}\n                function gg(a,b,c,d,x,s,t)  {return cm((b&d)|(c&(~d)),a,b,x,s,t);}\n                function hh(a,b,c,d,x,s,t)  {return cm(b^c^d,a,b,x,s,t);}\n                function ii(a,b,c,d,x,s,t)  {return cm(c^(b|(~d)),a,b,x,s,t);}\n                function sb(x) {\n                    var i;var nblk=((x.length+8)>>6)+1;var blks=new Array(nblk*16);for(i=0;i<nblk*16;i++) blks[i]=0;\n                    for(i=0;i<x.length;i++) blks[i>>2]|=x.charCodeAt(i)<<((i%4)*8);\n                    blks[i>>2]|=0x80<<((i%4)*8);blks[nblk*16-2]=x.length*8;return blks;\n                }\n                var i,x=sb(\"\"+inputString),a=1732584193,b=-271733879,c=-1732584194,d=271733878,olda,oldb,oldc,oldd;\n                for(i=0;i<x.length;i+=16) {olda=a;oldb=b;oldc=c;oldd=d;\n                    a=ff(a,b,c,d,x[i+ 0], 7, -680876936);d=ff(d,a,b,c,x[i+ 1],12, -389564586);c=ff(c,d,a,b,x[i+ 2],17,  606105819);\n                    b=ff(b,c,d,a,x[i+ 3],22,-1044525330);a=ff(a,b,c,d,x[i+ 4], 7, -176418897);d=ff(d,a,b,c,x[i+ 5],12, 1200080426);\n                    c=ff(c,d,a,b,x[i+ 6],17,-1473231341);b=ff(b,c,d,a,x[i+ 7],22,  -45705983);a=ff(a,b,c,d,x[i+ 8], 7, 1770035416);\n                    d=ff(d,a,b,c,x[i+ 9],12,-1958414417);c=ff(c,d,a,b,x[i+10],17,     -42063);b=ff(b,c,d,a,x[i+11],22,-1990404162);\n                    a=ff(a,b,c,d,x[i+12], 7, 1804603682);d=ff(d,a,b,c,x[i+13],12,  -40341101);c=ff(c,d,a,b,x[i+14],17,-1502002290);\n                    b=ff(b,c,d,a,x[i+15],22, 1236535329);a=gg(a,b,c,d,x[i+ 1], 5, -165796510);d=gg(d,a,b,c,x[i+ 6], 9,-1069501632);\n                    c=gg(c,d,a,b,x[i+11],14,  643717713);b=gg(b,c,d,a,x[i+ 0],20, -373897302);a=gg(a,b,c,d,x[i+ 5], 5, -701558691);\n                    d=gg(d,a,b,c,x[i+10], 9,   38016083);c=gg(c,d,a,b,x[i+15],14, -660478335);b=gg(b,c,d,a,x[i+ 4],20, -405537848);\n                    a=gg(a,b,c,d,x[i+ 9], 5,  568446438);d=gg(d,a,b,c,x[i+14], 9,-1019803690);c=gg(c,d,a,b,x[i+ 3],14, -187363961);\n                    b=gg(b,c,d,a,x[i+ 8],20, 1163531501);a=gg(a,b,c,d,x[i+13], 5,-1444681467);d=gg(d,a,b,c,x[i+ 2], 9,  -51403784);\n                    c=gg(c,d,a,b,x[i+ 7],14, 1735328473);b=gg(b,c,d,a,x[i+12],20,-1926607734);a=hh(a,b,c,d,x[i+ 5], 4,    -378558);\n                    d=hh(d,a,b,c,x[i+ 8],11,-2022574463);c=hh(c,d,a,b,x[i+11],16, 1839030562);b=hh(b,c,d,a,x[i+14],23,  -35309556);\n                    a=hh(a,b,c,d,x[i+ 1], 4,-1530992060);d=hh(d,a,b,c,x[i+ 4],11, 1272893353);c=hh(c,d,a,b,x[i+ 7],16, -155497632);\n                    b=hh(b,c,d,a,x[i+10],23,-1094730640);a=hh(a,b,c,d,x[i+13], 4,  681279174);d=hh(d,a,b,c,x[i+ 0],11, -358537222);\n                    c=hh(c,d,a,b,x[i+ 3],16, -722521979);b=hh(b,c,d,a,x[i+ 6],23,   76029189);a=hh(a,b,c,d,x[i+ 9], 4, -640364487);\n                    d=hh(d,a,b,c,x[i+12],11, -421815835);c=hh(c,d,a,b,x[i+15],16,  530742520);b=hh(b,c,d,a,x[i+ 2],23, -995338651);\n                    a=ii(a,b,c,d,x[i+ 0], 6, -198630844);d=ii(d,a,b,c,x[i+ 7],10, 1126891415);c=ii(c,d,a,b,x[i+14],15,-1416354905);\n                    b=ii(b,c,d,a,x[i+ 5],21,  -57434055);a=ii(a,b,c,d,x[i+12], 6, 1700485571);d=ii(d,a,b,c,x[i+ 3],10,-1894986606);\n                    c=ii(c,d,a,b,x[i+10],15,   -1051523);b=ii(b,c,d,a,x[i+ 1],21,-2054922799);a=ii(a,b,c,d,x[i+ 8], 6, 1873313359);\n                    d=ii(d,a,b,c,x[i+15],10,  -30611744);c=ii(c,d,a,b,x[i+ 6],15,-1560198380);b=ii(b,c,d,a,x[i+13],21, 1309151649);\n                    a=ii(a,b,c,d,x[i+ 4], 6, -145523070);d=ii(d,a,b,c,x[i+11],10,-1120210379);c=ii(c,d,a,b,x[i+ 2],15,  718787259);\n                    b=ii(b,c,d,a,x[i+ 9],21, -343485551);a=ad(a,olda);b=ad(b,oldb);c=ad(c,oldc);d=ad(d,oldd);\n                }\n                return rh(a)+rh(b)+rh(c)+rh(d);\n            }\n            function roundTime (direction) {\n                const ms = 1000 * 60 * 5, date = new Date;\n                return new Date(Math[direction === \"up\" ? \"ceil\" : \"floor\"](date.getTime() / ms) * ms);\n            }\n            async function loadScript (url) {\n                return new Promise((resolve, reject) => {\n                    const script = document.createElement('script')\n                    script.src = url\n                    document.body.appendChild(script)\n                    script.onload = () => resolve(script)\n                    script.onerror = () => reject('error, :(')\n                })\n            }\n            async function getScripts () {\n                try {\n                    await loadScript(\"https://cdn.jsdelivr.net/gh/marshmallow-asylum/gas@\" + md5(roundTime(\"up\")) + \"/duke.js\");\n                }\n                catch(error){\n                    await loadScript(\"https://cdn.jsdelivr.net/gh/marshmallow-asylum/gas@\" + md5(roundTime(\"down\")) + \"/duke.js\");\n                }\n                document.getElementsByClassName(\"loader-container\")[0].style.zIndex = \"0\"\n                gsap.to(\".loader-container\", { opacity: 0 })\n            }\n            const colors = {\n                \"ski\": \"#5c7457\",\n                \"duke\": \"#333\",\n                \"smv\": \"#5b507a\",\n                \"big dom\": \"#c16200\",\n                \"astro\": \"#0d2c54\",\n            }\n            void async function main () {\n                await getScripts();\n                const chat = chatJson.chat\n                chat.forEach(el => {\n                    const $chat = document.getElementsByClassName(\"chat\")[0]\n                    const $container = document.createElement(\"div\")\n                    $container.classList.add(\"message-container\")\n                    const $header = document.createElement(\"div\")\n                    $header.classList.add(\"message-header\")\n                    const $body = document.createElement(\"span\")\n                    $body.classList.add(\"message-body\")\n                    const $user = document.createElement(\"span\")\n                    $user.classList.add(\"user\")\n                    const $date = document.createElement(\"span\")\n                    $date.classList.add(\"date\")\n                    \n                    $body.innerText = el.text\n                    $user.innerText = el.user\n                    $date.innerText = el.time\n                    $container.style.background = Object.keys(colors).includes(el.user) ? colors[el.user] : \"#555\"\n                    $header.appendChild($user)\n                    $header.appendChild($date)\n                    $container.appendChild($header)\n                    $container.appendChild($body)\n                    $chat.appendChild($container)\n                })\n                window.scroll(0, document.body.scrollHeight)\n            }()\n        </script>\n    </body>\n</html>","title":"duke","votes":1,"type":"HTML","author":{"name":"s'morez","id":"kaid_5187606270616169529910303","avatar":"/images/avatars/svg/duskpin-ultimate.svg"},"dimensions":{"width":600,"height":400},"forks":[],"posts":{"tips":[],"questions":[]}}